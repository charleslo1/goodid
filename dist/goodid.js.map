{"version":3,"file":"goodid.js","sources":["../src/goodid.js"],"sourcesContent":["// defaults\nconst defaultAlphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'\nconst defaultStartTime = new Date(2018, 0, 1).getTime()\n\n/**\n * generate random string\n * @param  {Number} length   length\n * @param  {String} alphabet alphabet\n * @return {String}          random string\n */\nfunction genRandom (length, alphabet) {\n  alphabet = alphabet || defaultAlphabet\n  length = length || 1\n  let id = ''\n  while (length-- > 0) {\n    id += alphabet[Math.random() * alphabet.length | 0]\n  }\n  return id\n}\n\n/**\n * generate timestamp string\n * @return {String}          timestamp string\n */\nfunction genTimestamp () {\n  let timeArr = Math.round((Date.now() - defaultStartTime) / 1000).toString(36).split('')\n  let count = 3\n  let index = 0\n  while (count-- > 0) {\n    index = Math.random() * timeArr.length | 0\n    timeArr[index] = timeArr[index].toUpperCase()\n  }\n  return timeArr.join('')\n}\n\n/**\n * generate goodid\n * @param  {Number} length     length\n * @param  {String} [alphabet] alphabet (optional)\n * @return {String}            goodid\n */\nfunction goodid (length, alphabet) {\n  length = length || 16\n  let time = genTimestamp()\n  if (length < 16 || alphabet) {\n    return genRandom(length, alphabet)\n  } else {\n    return [time, genRandom(length - time.length)].join('')\n  }\n}\n\n// export\nexport default goodid\n"],"names":["defaultAlphabet","defaultStartTime","Date","getTime","genRandom","length","alphabet","id","Math","random","genTimestamp","timeArr","round","now","toString","split","count","index","toUpperCase","join","goodid","time"],"mappings":";;;;;;AAAA;AACA,IAAMA,kBAAkB,gEAAxB;AACA,IAAMC,mBAAmB,IAAIC,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,EAAqBC,OAArB,EAAzB;;;;;;;;AAQA,SAASC,SAAT,CAAoBC,MAApB,EAA4BC,QAA5B,EAAsC;aACzBA,YAAYN,eAAvB;WACSK,UAAU,CAAnB;MACIE,KAAK,EAAT;SACOF,WAAW,CAAlB,EAAqB;UACbC,SAASE,KAAKC,MAAL,KAAgBH,SAASD,MAAzB,GAAkC,CAA3C,CAAN;;SAEKE,EAAP;;;;;;;AAOF,SAASG,YAAT,GAAyB;MACnBC,UAAUH,KAAKI,KAAL,CAAW,CAACV,KAAKW,GAAL,KAAaZ,gBAAd,IAAkC,IAA7C,EAAmDa,QAAnD,CAA4D,EAA5D,EAAgEC,KAAhE,CAAsE,EAAtE,CAAd;MACIC,QAAQ,CAAZ;MACIC,QAAQ,CAAZ;SACOD,UAAU,CAAjB,EAAoB;YACVR,KAAKC,MAAL,KAAgBE,QAAQN,MAAxB,GAAiC,CAAzC;YACQY,KAAR,IAAiBN,QAAQM,KAAR,EAAeC,WAAf,EAAjB;;SAEKP,QAAQQ,IAAR,CAAa,EAAb,CAAP;;;;;;;;;AASF,SAASC,MAAT,CAAiBf,MAAjB,EAAyBC,QAAzB,EAAmC;WACxBD,UAAU,EAAnB;MACIgB,OAAOX,cAAX;MACIL,SAAS,EAAT,IAAeC,QAAnB,EAA6B;WACpBF,UAAUC,MAAV,EAAkBC,QAAlB,CAAP;GADF,MAEO;WACE,CAACe,IAAD,EAAOjB,UAAUC,SAASgB,KAAKhB,MAAxB,CAAP,EAAwCc,IAAxC,CAA6C,EAA7C,CAAP;;;;;;;;;;"}